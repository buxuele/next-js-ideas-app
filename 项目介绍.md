# Next.js + Vercel 图片分享 App

## 项目概述

这是一个基于 Next.js 15 和 Vercel 部署的现代化图片分享应用，专注于提供简洁优雅的图片浏览体验。项目采用了最新的 React 19 和 TypeScript 技术栈，实现了响应式的瀑布流图片展示。

## 核心特性

### 🖼️ 瀑布流图片展示

- 采用三列瀑布流布局，自适应不同屏幕尺寸
- 支持图片点击放大预览，提供沉浸式浏览体验
- 智能图片加载错误处理，确保界面稳定性

### 📁 多文件夹分类管理

- 支持多个图片分类文件夹：
  - `art` - 艺术作品收藏
  - `good_art` - 精选艺术作品
  - `t-恤--收集` - T 恤设计收藏
  - `top10` - 热门图片精选
- 动态导航栏，根据文件夹自动生成分类标签

### 🌐 混合存储策略

- **本地开发环境**：直接读取 `public/imgs/` 目录下的图片文件
- **生产环境**：图片托管在 GitHub，通过 raw.githubusercontent.com 提供 CDN 加速访问
- 智能环境检测，自动切换图片源地址

### 🎨 现代化 UI 设计

- 采用温暖的米黄色主题 (`#fef7e0`)，营造舒适的浏览氛围
- 响应式设计，95% 视窗宽度布局，充分利用屏幕空间
- 精美的阴影效果和圆角设计，提升视觉体验

## 技术架构

### 前端技术栈

- **Next.js 15** - 最新的 React 全栈框架
- **React 19** - 最新的 React 版本，支持并发特性
- **TypeScript** - 类型安全的 JavaScript 超集
- **Tailwind CSS 4.1** - 原子化 CSS 框架

### 后端与数据库

- **Neon Database** - 现代化的 PostgreSQL 云数据库
- **Next-Auth 5.0** - 身份认证解决方案（当前已禁用）
- **Vercel Postgres** - Vercel 提供的数据库集成

### 部署与托管

- **Vercel** - 现代化的前端部署平台
- **GitHub** - 代码仓库和图片资源托管
- **CDN 加速** - 通过 GitHub raw 链接提供全球 CDN 访问

## 项目结构

```
next-js-ideas-app/
├── app/                          # Next.js App Router
│   ├── (dashboard)/             # 仪表板路由组
│   │   ├── [folder]/           # 动态文件夹路由
│   │   ├── explore/            # 探索页面
│   │   └── page.tsx            # 首页
│   ├── api/                    # API 路由
│   │   ├── folders/           # 文件夹 API
│   │   ├── gallery/           # 图片库 API
│   │   └── images/            # 图片 API
│   └── layout.tsx             # 根布局
├── components/                 # React 组件
│   ├── gallery/               # 图片展示组件
│   ├── layout/                # 布局组件
│   └── ui/                    # UI 基础组件
├── lib/                       # 工具库
│   ├── db/                    # 数据库相关
│   ├── image-manager.ts       # 图片管理器
│   └── validations.ts         # 数据验证
├── public/imgs/               # 图片资源
│   ├── art/                   # 艺术作品
│   ├── good_art/              # 精选作品
│   ├── t-恤--收集/            # T恤收藏
│   └── top10/                 # 热门精选
└── docs/                      # 项目文档
```

## 核心功能实现

### 图片管理系统

项目实现了智能的图片管理系统，通过 `ImageManager` 类统一处理图片资源：

- **环境适配**：自动检测运行环境，本地开发使用相对路径，生产环境使用 GitHub CDN
- **文件扫描**：自动扫描指定目录下的图片文件，支持 jpg、png、gif、webp 等格式
- **元数据提取**：获取图片文件大小、创建时间等元信息

### 响应式瀑布流布局

采用 CSS Grid 实现的三列瀑布流布局：

- **自适应列宽**：使用 `minmax(0, 1fr)` 确保列宽均匀分布
- **图片优化**：集成 Next.js Image 组件，自动优化图片加载
- **错误处理**：优雅处理图片加载失败，自动过滤无效图片

### 模态框预览

实现了全屏图片预览功能：

- **沉浸式体验**：半透明黑色背景，突出图片内容
- **交互友好**：支持点击关闭、ESC 键退出
- **信息展示**：底部显示图片文件名等信息

## 部署配置

### 环境变量配置

```bash
# GitHub OAuth (已禁用)
GITHUB_ID=your_github_client_id
GITHUB_SECRET=your_github_client_secret

# 数据库连接
DATABASE_URL=your_neon_database_url
```

### Vercel 部署

项目已配置自动部署到 Vercel：

- 推送到 main 分支自动触发部署
- 支持预览部署和生产部署
- 集成环境变量管理

## 开发体验

### 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器 (端口 7000)
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start
```

### 代码质量

- **ESLint** - 代码规范检查
- **TypeScript** - 类型安全保障
- **Prettier** - 代码格式化（通过 Tailwind CSS 集成）

## 设计理念

这个项目体现了现代 Web 应用的几个重要设计理念：

1. **简约至上**：去除了复杂的用户认证和内容发布功能，专注于图片展示的核心体验
2. **性能优先**：利用 Next.js 的 SSG/SSR 能力和 Vercel 的边缘网络，确保快速加载
3. **响应式设计**：适配各种设备屏幕，提供一致的用户体验
4. **开发友好**：清晰的项目结构和类型定义，便于维护和扩展

## 未来规划

- [ ] 添加图片搜索和过滤功能
- [ ] 支持图片标签和分类管理
- [ ] 集成图片压缩和优化服务
- [ ] 添加图片元数据展示（EXIF 信息）
- [ ] 支持图片收藏和个人画廊功能

---

这个项目展示了如何使用现代前端技术栈构建一个高性能、用户友好的图片分享应用。通过 Next.js 的强大功能和 Vercel 的便捷部署，实现了从开发到生产的完整工作流程。
